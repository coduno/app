<link rel="import" href="sequential/sequential-challenge.html">

<dom-module id="challenge-page">
	<style>
		:host {
			display: block;
			height: 100%;
		}
		#challenge {
			height: 100%;
		}
	</style>
	<template>
		<div id="challenge">
		</div>
	</template>
	<script>
		Polymer({
			is: 'challenge-page',
			properties: {
				challenge: {
					type: Object,
					notify: true,
					reflectToAttribute: true
				},
				result: {
					type: Object,
					notify: true,
					reflectToAttribute: true
				}
			},
			observers: [
				'afterPropertiesSet(challenge, result)'
			],
			afterPropertiesSet: function(){
				if (this.challenge.endpoint.component !== 'sequential-challenge'){
					alert('This type of challenge is not yet available.');
					return;
				}
				var webInterface = document.createElement(this.challenge.endpoint.component);
				webInterface.challenge = this.challenge;
				webInterface.result = this.result;
				this.$.challenge.innerHTML = '';
				this.$.challenge.appendChild(webInterface);
			}
		});
	</script>
</dom-module>
