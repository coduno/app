<link rel="import" href="../../../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../../../../bower_components/neon-animation/neon-animations.html">
<link rel="import" href="../../../../bower_components/neon-animation/neon-animation-runner-behavior.html">

<dom-module id="challenge-register-wizard-nav">
	<style include="iron-flex">
		:host {
			display: block;
		}
		#steps {
			background: white;
			height: 30px;
			margin: 0px auto 16px auto;
			padding: 24px;
			text-align: center;
			width: calc(70% - 48px);
		}
		#steps-title {
			padding: 0;
			margin: 0;
		}
		#stepElements {
			@apply(--layout-horizontal);
		}
	</style>
	<template>
		<paper-material id="steps" class="mainContent" elevation="1">
			<div id="stepElements">
				<span class="flex"></span>
				<nav-level-element state="[[firstStepState]]"></nav-level-element>
				<nav-level-element state="[[secondStepState]]"></nav-level-element>
				<span class="flex"></span>
			</div>
		</paper-material>
	</template>
	<script>
		Polymer({
			is: 'challenge-register-wizard-nav',
			behaviors: [
				Polymer.NeonAnimationRunnerBehavior
			],
			listeners: {
				'neon-animation-finish': '_afterNeon'
			},
			observers: [
				'_showNavChanged(showNav)'
			],
			ready: function() {
				this.$.steps.style.display = 'none';
				this.entryAnimation = 'slide-from-right-animation';
				this.exitAnimation = 'slide-right-animation';
			},
			_showNavChanged: function(showNav){
				if(showNav){
					this.$.steps.style.display = '';
					this.playAnimation('entry');
				}else{
					this.playAnimation('exit');
				}
			},
			_afterNeon: function(){
				if(!this.showNav){
					this.$.steps.style.display = 'none';
				}
			},
		});
	</script>
</dom-module>
