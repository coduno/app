<dom-module id="unit-test-output">

    <style>
      .inline{
        display: inline;
      }
    </style>
  <template>
    <template is="dom-if" if="{{isErr()}}">
      <p>{{runOutput.err}}</p>
    </template>
    <template is="dom-if" if="{{!isErr()}}">
      <p>Number of tests <span>{{runOutput.tests.Tests}}</span></p>
      <p>Number of failures <span>{{runOutput.tests.Failures}}</span></p>
      <p>Number of errors <span>{{runOutput.tests.Errors}}</span></p>
      <template id="testCases" is="dom-repeat" items="{{runOutput.tests.TestCase}}">
        <div>
          <iron-icon src="{{getIcon(item)}}"></iron-icon>
          <p class="inline"><span>{{getText(item)}}</span></p>
        </div>
      </template>
    </template>
  </template>

  <script>
    Polymer({
      is:'unit-test-output',
      properties:{
        runOutput:{
          type: Object,
          notify: true,
          reflectToAttribute: true
        }
      },
      getText: function(testCase){
        if(testCase.Failure.Message != ""){
          return testCase.Name + " failed on " + testCase.Failure.Message;
        }
        return testCase.Name;
      },
      getIcon: function(testCase){
        if(testCase.Failure.Message != ""){
          return "images/not-ok.png";
        }else{
          return "images/ok.png";
        }
      },
      isErr: function(){
        return this.runOutput==undefined || this.runOutput.err != "" || this.runOutput.err != undefined;
      }
  });

  </script>
</dom-module>
